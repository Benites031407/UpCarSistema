# ============================================
# WhatsApp Business API Configuration
# ============================================
# 
# Follow WHATSAPP-API-SETUP.md for detailed setup instructions
#

# WhatsApp API Base URL (usually doesn't change)
WHATSAPP_API_URL=https://graph.facebook.com/v18.0

# Your WhatsApp Phone Number ID
# Get from: Meta Developer Console → WhatsApp → API Setup → "From" dropdown
# Example: 123456789012345
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id-here

# Your Access Token
# For Development: Use temporary token from Meta Developer Console
# For Production: Use permanent System User token
# Get from: Meta Developer Console → WhatsApp → API Setup → "Temporary access token"
WHATSAPP_ACCESS_TOKEN=your-access-token-here

# Admin Phone Number (receives all notifications)
# Format: Country code + number (no spaces, no + symbol)
# Example for Brazil: 5511948580070 = +55 11 94858-0070
# Example for USA: 15551234567 = +1 555-123-4567
ADMIN_PHONE=5511948580070

# ============================================
# Quick Setup Checklist
# ============================================
# 
# [ ] 1. Create Meta App at developers.facebook.com
# [ ] 2. Add WhatsApp product to your app
# [ ] 3. Copy Phone Number ID from API Setup
# [ ] 4. Copy Temporary Access Token (for testing)
# [ ] 5. Add your phone number to test list
# [ ] 6. Update the values above
# [ ] 7. Run: npx tsx test-whatsapp.ts
# [ ] 8. Verify messages arrive on your phone
# [ ] 9. For production: Get permanent System User token
# [ ] 10. Update WHATSAPP_ACCESS_TOKEN with permanent token
#
# ============================================
# Testing
# ============================================
#
# Test your configuration:
#   npx tsx test-whatsapp.ts
#
# Test through your application:
#   curl -X POST http://localhost:3001/api/test/notification
#
# ============================================
# Troubleshooting
# ============================================
#
# Error: "Invalid OAuth access token"
#   → Regenerate token (temporary tokens expire after 24h)
#
# Error: "Recipient phone number not valid"
#   → Check phone number format (no spaces, no +)
#   → Add number to test list in Meta Console
#
# Error: "Phone number not registered"
#   → Add phone to test list: WhatsApp → API Setup → Manage phone numbers
#
# Messages not arriving:
#   → Check backend logs: packages/backend/logs/
#   → Verify all env vars are set
#   → Check Meta Business Suite for delivery status
#
# ============================================
# Rate Limits
# ============================================
#
# Development (Test Numbers):
#   - 1,000 messages per day
#   - 50 messages per hour per recipient
#
# Production (Verified Business):
#   - Tier 1: 1,000 unique recipients/24h
#   - Tier 2: 10,000 unique recipients/24h
#   - Tier 3: 100,000 unique recipients/24h
#
# Your app has built-in rate limiting:
#   - 10 notifications per hour (configurable)
#
# ============================================
# Resources
# ============================================
#
# Documentation: https://developers.facebook.com/docs/whatsapp/cloud-api
# Getting Started: https://developers.facebook.com/docs/whatsapp/cloud-api/get-started
# Meta Developer Console: https://developers.facebook.com/apps
# Business Manager: https://business.facebook.com/
#
